<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">









  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="惊了百度词条还是没有收录  先看一道题：  给你一个图，每次询问给定一个位置、长度和$k$，问从这个点出发，只能经过不大于这个长度的边，到达的点中点权第$k$大的点权  数据是$10w$级别的 显然是先构造最小生成树，但是没法根据询问长度进行修改  离线做法：  如果允许离线呢？ 可以把询问按长度排序，每次把不大于这个长度的边加入最小生成树，然后对每个联通块建主席树，加边合并主席树  在线做法">
<meta name="keywords" content="克鲁斯卡尔重构树">
<meta property="og:type" content="article">
<meta property="og:title" content="克鲁斯卡尔重构树">
<meta property="og:url" content="http://yoursite.com/2018/08/25/2018-08-25-克鲁斯卡尔重构树略解/index.html">
<meta property="og:site_name" content="Dispwnl">
<meta property="og:description" content="惊了百度词条还是没有收录  先看一道题：  给你一个图，每次询问给定一个位置、长度和$k$，问从这个点出发，只能经过不大于这个长度的边，到达的点中点权第$k$大的点权  数据是$10w$级别的 显然是先构造最小生成树，但是没法根据询问长度进行修改  离线做法：  如果允许离线呢？ 可以把询问按长度排序，每次把不大于这个长度的边加入最小生成树，然后对每个联通块建主席树，加边合并主席树  在线做法">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/img/study/chonggoushu.png">
<meta property="og:image" content="http://yoursite.com/img/study/chonggoushu1.png">
<meta property="og:image" content="http://yoursite.com/img/study/chonggoushu2.png">
<meta property="og:image" content="http://yoursite.com/img/study/chonggoushu3.png">
<meta property="og:image" content="http://yoursite.com/img/study/chonggoushu4.png">
<meta property="og:image" content="http://yoursite.com/img/study/chonggoushu5.png">
<meta property="og:updated_time" content="2018-10-09T12:29:12.032Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="克鲁斯卡尔重构树">
<meta name="twitter:description" content="惊了百度词条还是没有收录  先看一道题：  给你一个图，每次询问给定一个位置、长度和$k$，问从这个点出发，只能经过不大于这个长度的边，到达的点中点权第$k$大的点权  数据是$10w$级别的 显然是先构造最小生成树，但是没法根据询问长度进行修改  离线做法：  如果允许离线呢？ 可以把询问按长度排序，每次把不大于这个长度的边加入最小生成树，然后对每个联通块建主席树，加边合并主席树  在线做法">
<meta name="twitter:image" content="http://yoursite.com/img/study/chonggoushu.png">






  <link rel="canonical" href="http://yoursite.com/2018/08/25/2018-08-25-克鲁斯卡尔重构树略解/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>克鲁斯卡尔重构树 | Dispwnl</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Dispwnl</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">A Failure</h1>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-users"></i> <br />关于</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-友链">
    <a href="/links/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />友链</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/25/2018-08-25-克鲁斯卡尔重构树略解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dispwnl">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/qwq.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dispwnl">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">克鲁斯卡尔重构树
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-08-25 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-25T00:00:00+08:00">2018-08-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-10-09 20:29:12" itemprop="dateModified" datetime="2018-10-09T20:29:12+08:00">2018-10-09</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <blockquote>
<p>惊了百度词条还是没有收录</p>
</blockquote>
<p><a href="http://hzwer.com/4189.html" target="_blank" rel="noopener">先看一道题</a>：</p>
<blockquote>
<p>给你一个图，每次询问给定一个位置、长度和$k$，问从这个点出发，只能经过不大于这个长度的边，到达的点中点权第$k$大的点权</p>
</blockquote>
<p>数据是$10w$级别的</p>
<p>显然是先构造最小生成树，但是没法根据询问长度进行修改</p>
<ul>
<li><h3 id="离线做法："><a href="#离线做法：" class="headerlink" title="离线做法："></a>离线做法：</h3></li>
</ul>
<p>如果允许离线呢？</p>
<p>可以把询问按长度排序，每次把不大于这个长度的边加入最小生成树，然后对每个联通块建主席树，加边合并主席树</p>
<ul>
<li><h3 id="在线做法"><a href="#在线做法" class="headerlink" title="在线做法"></a>在线做法</h3></li>
</ul>
<p>布星现在是强制在线</p>
<p>这就需要用到克鲁斯卡尔重构树</p>
<p>比如这个图：</p>
<p><img src="/img/study/chonggoushu.png" alt=""></p>
<p>ta的最小生成树是这样：</p>
<p><img src="/img/study/chonggoushu1.png" alt=""></p>
<p>在连接两个联通块的时候，我们新建一个节点，与两个联通块的代表点相连，然后这个新建节点成为这个联通块的代表点，这个点的点权为这条边的长度</p>
<p><img src="/img/study/chonggoushu2.png" alt=""><img src="/img/study/chonggoushu3.png" alt=""></p>
<p>最后形成的图：</p>
<p><img src="/img/study/chonggoushu4.png" alt=""></p>
<p>可以发现，把原来的边去掉，新建点与原来的点是在一棵树里的，把这棵树提出来</p>
<p><img src="/img/study/chonggoushu5.png" alt=""></p>
<ul>
<li><h3 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h3></li>
</ul>
<p>发现每个节点的权值肯定大于等于ta子树中任意一个点的权值，因为构造最小生成树的时候越大的边出现的越晚，对应建立的点深度也越浅</p>
<p>所以每个点对应子树里都是边长小于等于ta的点权的联通块</p>
<ul>
<li><h3 id="统计答案"><a href="#统计答案" class="headerlink" title="统计答案"></a>统计答案</h3></li>
</ul>
<p>还是刚才那个问题，可以发现对于每个询问，我们需要找一个点：</p>
<ul>
<li><p>这个点的权值小于等于询问长度</p>
</li>
<li><p>这个点的子树里有询问给定的点（对应联通块）</p>
</li>
</ul>
<p>然后答案肯定在ta的子树中，只需要考虑子树，所以对这棵树的$dfs$序建立主席树，在子树里找k大点就行了</p>
<p>怎么找这个点呢？由上面的性质可以知道，点权越大，子树越大</p>
<p>所以我们只用找询问给定点的祖先里点权不大于给定长度的最大的点，这个可以用倍增实现</p>
<p>这样问题就解决啦</p>
<ul>
<li><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3></li>
</ul>
<h4 id="离线部分代码"><a href="#离线部分代码" class="headerlink" title="离线部分代码"></a>离线部分代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">int merge(int k,int y)//合并部分，对应相加</span><br><span class="line">&#123;</span><br><span class="line">    if(!k) return y;</span><br><span class="line">    if(!y) return k;</span><br><span class="line">    if(!tl&amp;&amp;!tr) s[k].x+=s[y].x;</span><br><span class="line">    else tl=merge(tl,s[y].l),tr=merge(tr,s[y].r),s[k].x=s[tl].x+s[tr].x;</span><br><span class="line">    return k;</span><br><span class="line">&#125;</span><br><span class="line">int ask(int l,int r,int k,int x)//查询部分</span><br><span class="line">&#123;</span><br><span class="line">    if(l&gt;=r) return l;</span><br><span class="line">    if(x&lt;=s[tl].x) return ask(l,mid,tl,x);</span><br><span class="line">    else return ask(mid+1,r,tr,x-s[tl].x);</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    ...//输入+处理部分...</span><br><span class="line">    int l=1,num=0;</span><br><span class="line">    for(int i=1;i&lt;=q;++i)</span><br><span class="line">      &#123;</span><br><span class="line">      	int v=qu[i].v,x=qu[i].x,k=qu[i].k;</span><br><span class="line">      	for(;l&lt;=m&amp;&amp;qu[i].x&gt;=c[l].dis;++l)</span><br><span class="line">      	  &#123;</span><br><span class="line">      	  	if(num==n-1) break;</span><br><span class="line">            int r1=find(c[l].x),r2=find(c[l].y);</span><br><span class="line">      	  	if(r1==r2) continue;</span><br><span class="line">      	  	++num;</span><br><span class="line">      	  	if(siz[r1]&gt;siz[r2]) fa[r2]=r1,rt[r1]=merge(rt[r1],rt[r2]),siz[r1]+=siz[r2];</span><br><span class="line">      	  	else fa[r1]=r2,rt[r2]=merge(rt[r2],rt[r1]),siz[r2]+=siz[r1];//启发式合并</span><br><span class="line">          &#125;</span><br><span class="line">        v=rt[find(v)];</span><br><span class="line">        if(s[v].x&lt;k) ans[qu[i].id]=-1;//不到k个就-1</span><br><span class="line">        else ans[qu[i].id]=ID[ask(1,id,v,s[v].x-k+1)];</span><br><span class="line">      &#125;</span><br><span class="line">    for(int i=1;i&lt;=q;++i)</span><br><span class="line">      printf(&quot;%d\n&quot;,ans[i]);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="在线部分代码"><a href="#在线部分代码" class="headerlink" title="在线部分代码"></a>在线部分代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">int ASK(int pos,int x,int k)//处理询问</span><br><span class="line">&#123;</span><br><span class="line">    for(int i=20;i&gt;=0;--i)</span><br><span class="line">      if(f[i][pos]&amp;&amp;v[f[i][pos]]&lt;=x) pos=f[i][pos];//倍增查询</span><br><span class="line">    int r1=rt[id_l[pos]],r2=rt[id_r[pos]];//找到子树dfs序范围</span><br><span class="line">    if(s[r2].x-s[r1].x&lt;k) return -1;//没有k个点就返回-1</span><br><span class="line">    return ID[ask(r2,r1,1,id,s[r2].x-s[r1].x-k+1)];//主席树查询，ID是离散化编号对应点权值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">void dfs(int x)//处理dfs序</span><br><span class="line">&#123;</span><br><span class="line">    use[x]=1,Id[++Tot]=x;</span><br><span class="line">    for(int i=h[x];i;i=cc[i].x)</span><br><span class="line">      dfs(cc[i].y);</span><br><span class="line">    if(x&gt;n) Id[++Tot]=x;//dfs序，因为&gt;n的主席树与前面&lt;=n的树合并，所有要子树最右边dfs序应该是&gt;n的点</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    ...//输入相关...</span><br><span class="line">    int num=0,ans=0;</span><br><span class="line">    for(int i=1;i&lt;=m;++i)</span><br><span class="line">      &#123;</span><br><span class="line">      	if(num==n-1) break;</span><br><span class="line">      	int r1=find(c[i].x),r2=find(c[i].y);</span><br><span class="line">      	if(r1==r2) continue;</span><br><span class="line">      	++num,fa[++cnt]=cnt,f[0][r1]=f[0][r2]=cnt,v[cnt]=c[i].dis,fa[r1]=fa[r2]=cnt;//cnt表示新建点编号，注意应该从n开始编号</span><br><span class="line">      	add(cnt,r1),add(cnt,r2);//从cnt向r1,r2连边</span><br><span class="line">      &#125;//建树</span><br><span class="line">    for(int i=1;i&lt;=n;++i)</span><br><span class="line">      if(!use[i]) dfs(find(i));//dfs序</span><br><span class="line">    for(int i=1;i&lt;=Tot;++i)</span><br><span class="line">      &#123;</span><br><span class="line">      	int tt=Id[i];</span><br><span class="line">      	if(tt&lt;=n) rt[i]=change(rt[i-1],1,id,b[tt]);//dfs序建主席树</span><br><span class="line">      	else</span><br><span class="line">      	&#123;</span><br><span class="line">      		rt[i]=rt[i-1];//如果是新建节点，根就连到原来节点上（因为没有题目查询需要的点权）</span><br><span class="line">      		if(!id_l[tt]) id_l[tt]=i;</span><br><span class="line">      		else id_r[tt]=i;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    for(int j=1;j&lt;=20;++j)</span><br><span class="line">      for(int i=1;i&lt;=cnt;++i)</span><br><span class="line">        f[j][i]=f[j-1][f[j-1][i]];//倍增</span><br><span class="line">    for(int i=1;i&lt;=q;++i)</span><br><span class="line">      &#123;</span><br><span class="line">      	if(ans==-1) ans=0;</span><br><span class="line">      	int v=read()^ans,x=read()^ans,k=read()^ans;</span><br><span class="line">      	printf(&quot;%d\n&quot;,ans=ASK(v,x,k));</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>瞬间字数就多了</del></p>
<p><a href="https://www.luogu.org/problemnew/show/P4768" target="_blank" rel="noopener">NOI2018 D1T1</a>也是一道重构树的模板题，建立海拔的最大生成树，对于每个点到1号节点的最短路长度查询即可</p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/克鲁斯卡尔重构树/" rel="tag"># 克鲁斯卡尔重构树</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/23/2018-08-23-[CF662C]Binary Table/" rel="next" title="[CF662C]Binary Table">
                <i class="fa fa-chevron-left"></i> [CF662C]Binary Table
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/08/26/2018-08-26-[BZOJ3309]DZY Loves Math/" rel="prev" title="[BZOJ3309]DZY Loves Math">
                [BZOJ3309]DZY Loves Math <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/qwq.jpg"
                alt="Dispwnl" />
            
              <p class="site-author-name" itemprop="name">Dispwnl</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">99</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">48</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#离线做法："><span class="nav-number">1.</span> <span class="nav-text">离线做法：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在线做法"><span class="nav-number">2.</span> <span class="nav-text">在线做法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#性质"><span class="nav-number">3.</span> <span class="nav-text">性质</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#统计答案"><span class="nav-number">4.</span> <span class="nav-text">统计答案</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代码实现"><span class="nav-number">5.</span> <span class="nav-text">代码实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#离线部分代码"><span class="nav-number">5.1.</span> <span class="nav-text">离线部分代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#在线部分代码"><span class="nav-number">5.2.</span> <span class="nav-text">在线部分代码</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-Dispwnl"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dispwnl</span>

  

  
</div>


  



  <div class="powered-by">由 <a class="theme-link" target="_blank" rel="external nofollow" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a class="theme-link" target="_blank" rel="external nofollow" href="https://theme-next.org">NexT.Gemini</a> v6.4.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  

  

  

  

  

  

</body>
</html>
